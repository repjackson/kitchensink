template(name='doc_cloud')
    .ui.center.aligned.segment
        // .ui.circular.label #{currentUser.points}
        // .ui.hidden.fitted.divider
        h3.ui.header Documents
        .ui.icon.input
            i.lightning.icon
            input#quick_add(type='text' placeholder='Quick Add')
        div View:
            #mine.ui.button
                i.user.icon
                |Mine
            #my_upvoted.ui.button
                i.thumbs.up.icon
                |My Upvoted
            #my_downvoted.ui.button
                i.thumbs.down.icon
                |My Downvoted
            #unvoted.ui.button(class=unvoted_button_class)
                i.edit.icon
                |Unvoted
        // #add_doc.ui.button
        //     i.plus.icon
        //     | Full Add
        .ui.hidden.fitted.divider
        h5.ui.header By Tag:
        .ui.left.icon.small.input
            i.search.icon
            +inputAutocomplete settings=settings id="search" class="" autofocus='' autocomplete="off" placeholder='Tag Search'
        if selected_doc_tags
            if currentUser
                #bookmark_selection.ui.icon.circular.button
                    i.bookmark.icon
        if $.Session.get 'selected_user'
            .ui.button.primary.selected_user_button
                i.remove.icon
                i.user.icon
                |by #{selected_user}
        if $.Session.get 'upvoted_cloud'
            .ui.button.primary.upvoted_cloud_button
                i.remove.icon
                i.thumbs.up.icon
                | #{upvoted_cloud}
        if $.Session.get 'downvoted_cloud'
            .ui.button.primary.downvoted_cloud_button
                i.remove.icon
                i.thumbs.down.icon
                | #{downvoted_cloud}
        if selected_doc_tags
            #clear_tags.ui.large.primary.icon.compact.button
                i.remove.icon
            each selected_doc_tags
                a.ui.large.primary.compact.button.unselect_tag
                    strong #{this}
        // .ui.hidden.fitted.divider
        // if Template.subscriptionsReady
        each all_doc_tags
            .ui.compact.button.select_tag(class=cloud_tag_class) #{this.name}
                small (#{this.count})
            // .ui.button.compact.selectTag #{this.name}
        .ui.hidden.divider
        h5.ui.header By Author:
        if selected_authors
            #clear_authors.ui.circular.primary.icon.button
                i.remove.icon
            each selected_authors
                a.ui.primary.circular.button.unselect_author
                    i.user.icon
                    strong #{selected_author_name}
        each all_authors
            .ui.circular.button.select_author
                i.user.icon
                |#{author_name}
                small #{count}
