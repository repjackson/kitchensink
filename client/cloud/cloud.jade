template(name='doc_cloud')
    .ui.center.aligned.segment
        // .ui.circular.label #{currentUser.points}
        // .ui.hidden.fitted.divider
        h3.ui.header Documents
        div View:
            #mine.ui.basic.button
                i.user.icon
                |Mine
            #my_upvoted.ui.basic.button
                i.thumbs.up.icon
                |My Upvoted
            #my_downvoted.ui.basic.button
                i.thumbs.down.icon
                |My Downvoted
            #unvoted.ui.button(class=unvoted_button_class)
                i.edit.icon
                |Unvoted
        .ui.icon.input
            i.lightning.icon
            input#quick_add(type='text' placeholder='Quick Add')
        #add_doc.ui.button
            i.plus.icon
            | Full Add
        .ui.hidden.fitted.divider
        .ui.left.icon.small.input
            i.search.icon
            +inputAutocomplete settings=settings id="search" class="" autofocus='' autocomplete="off" placeholder='Tag Search'
        if selected_tags
            if currentUser
                #bookmarkSelection.ui.basic.icon.circular.button
                    i.bookmark.icon
        if $.Session.get 'selected_user'
            .ui.button.primary.selected_user_button
                i.remove.icon
                i.user.icon
                |by #{selected_user}
        if $.Session.get 'upvoted_cloud'
            .ui.button.primary.upvoted_cloud_button
                i.remove.icon
                i.thumbs.up.icon
                | #{upvoted_cloud}
        if $.Session.get 'downvoted_cloud'
            .ui.button.primary.downvoted_cloud_button
                i.remove.icon
                i.thumbs.down.icon
                | #{downvoted_cloud}
        if selected_doc_tags
            #clearTags.ui.large.primary.icon.compact.button
                i.remove.icon
            each selected_doc_tags
                a.ui.large.primary.compact.button.unselectTag
                    strong #{this}
        // .ui.hidden.fitted.divider
        // if Template.subscriptionsReady
        each all_doc_tags
            .ui.compact.button.selectTag(class=cloud_tag_class) #{this.name}
            // .ui.button.compact.selectTag #{this.name}
                // small #{this.count}
        .ui.hidden.divider
        |By Author:
        if selected_usernames
            #clearUsernames.ui.circular.primary.icon.button
                i.remove.icon
            each selected_usernames
                a.ui.primary.circular.button.unselectUsername
                    i.user.icon
                    strong #{this}
        each all_usernames
            .ui.basic.circular.button.selectUsername
                i.user.icon
                |#{this.text}
                small #{this.count}
