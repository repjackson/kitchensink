template(name='profile')
    .ui.segment
        .ui.accordion
            .active.title
                i.dropdown.icon
                strong Profile
            .active.content
                .ui.form
                    .fields
                        .inline.field
                            label Your Name
                            input#username(type='text' value=currentUser.username)
                        .inline.field 
                            label Contact Info (shown to friends)
                            .ui.left.icon.input
                                i.user.icon
                                input#contact(type='text' value=currentUser.contact)
                    .inline.field
                        label Your Tags
                        each currentUser.tags
                            .ui.small.compact.button.my_tag
                                i.remove.icon
                                |#{this}
                        .ui.left.icon.input
                            i.add.icon
                            // +inputAutocomplete settings=settings id="self_tag" class="" autocomplete="off" placeholder='Add Tag'
                            input#add_tag(type='text' autofocus='' placeholder='Add Tag')
                .ui.divider
                h5.ui.header Top Matches
                .ui.list
                    each user_matches
                        .item
                            strong #{matched_user} #{length}
                            each tag_intersection
                                .ui.small.compact.button.match_tag(class=match_tag_class) #{this}




template(name='tag_result')
    .ui.small.compact.button #{name}



