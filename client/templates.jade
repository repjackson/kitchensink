head
    title Facet
    meta(name='viewport', content='user-scalable=no, initial-scale=1.0, maximum-scale=1.0, width=device-width')
    meta(name='apple-mobile-web-app-capable', content='yes')
    meta(name='apple-mobile-web-app-status-bar-style', content='black')

template(name='layout')
    +cloud
    +Template.dynamic template=main


template(name='cloud')
    #cloud.ui.basic.center.aligned.fluid.segment
        if currentUser
            .ui.icon.input
                i.plus.icon
                input#quick_add(type='text')
            // #add.ui.button
            //     i.plus.icon
            //     | Full Add
        .ui.label
            +loginButtons
        .ui.hidden.divider
        .ui.left.icon.input
            i.search.icon
            +inputAutocomplete settings=settings id="search" class="" autofocus='' autocomplete="off" placeholder=''
        if selected_tags
            #clear_tags.ui.primary.icon.compact.button
                i.remove.icon
            each selected_tags
                .unselect_tag.ui.primary.compact.button
                    strong #{this}
        each all_tags
            .ui.compact.button.select_tag(class=cloud_tag_class) #{this.name}
                small #{this.count}


template(name='docs')
    .ui.container
        each docs
            +view


template(name='view')
    .ui.fluid.card
        .content
            each tags
                .ui.button.tag(class=tag_class) #{this}
            if is_author
                .edit.ui.icon.circular.button
                    i.pencil.icon.icon
            else
                | by #{author.username} #{when}
                    
// template(name='edit')
//     with doc
//         .ui.segment
//             each tags
//                 .ui.button.tag
//                     i.minus.icon
//                     |#{this}
//             .ui.left.icon.input
//                 i.add.icon
//                 input#add_tag(type='text' autofocus='' placeholder='Add Tag' maxlength='50')
//             if tags
//                 #save.ui.green.icon.circular.button: i.check.icon
//             #delete.ui.red.icon.circular.button: i.remove.icon
                    


template(name='tag_result')
    .ui.small.compact.button #{name}
