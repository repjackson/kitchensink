template(name='docs')
    .ui.container
        .ui.cards
            each docs
                +view

template(name='view')
    .ui.fluid.card
        .content
            .header
                each tags
                    .ui.button.docTag(class=docTagClass)  #{this}
                .meta.right.floated
                    .ui.basic.large.label
                        | #{points} pts
                    .ui.huge.icon.button.vote_up(class=vote_upButtonClass)
                        i.thumbs.up.icon
                    .ui.huge.icon.button.vote_down(class=vote_downButtonClass)
                        i.thumbs.down.icon
            .description
                if body.length
                    +markdown
                        !{body}
        .extra.content
            span by #{username} [#{author.points}] #{when}
            if currentUser
                .ui.basic.button.cloneDoc
                    i.fork.icon
                    |Clone
                if isAuthor
                    .ui.basic.button.editDoc
                        i.blue.pencil.icon
                        |Edit
                    .ui.icon.basic.button.deleteDoc
                        // |Delete
                        i.red.trash.icon
                else
                    .send_point.ui.basic.button(class=send_point_button_class)
                        i.share.icon
                        |Send Point
                    if canRetrievePoints
                        .retrieve_point.ui.basic.button
                            i.reply.icon
                            |Retrieve Point
                    if canRetrievePoints
                        .ui.basic.label #{currentUserDonations} points sent
                    // .bid.btn.btn-primary increment bid

        .extra.content
            .select_user.ui.button(class=select_user_button_class)
                i.user.icon
                |by #{author.username}
            |#{author.username}'s Authored Tags
            each author.authored_cloud
                .ui.small.label(class=cloud_label_class)
                    |#{this.name}
                    small #{this.count}
        .extra.content
            .author_upvotes.ui.button(class=author_upvotes_button_class)
                i.thumbs.up.icon
                | #{author.username}
            |#{author.username}'s Upvoted Tags
            each author.upvoted_cloud
                .ui.small.label(class=cloud_label_class)
                    |#{this.name}
                    small #{this.count}
        .extra.content
            .author_downvotes.ui.button(class=author_downvotes_button_class)
                i.thumbs.down.icon
                | #{author.username}
            |#{author.username}'s Downvoted Tags
            each author.downvoted_cloud
                .ui.small.label(class=cloud_label_class)
                    |#{this.name}
                    small #{this.count}
